{"version":3,"sources":["components/Header.jsx","components/Label.jsx","components/Workspace.jsx","components/Table.jsx","utils/formatDate.js","components/OrderedItem.jsx","../node_modules/@material-ui/icons/MonetizationOnOutlined.js","../node_modules/@material-ui/icons/MoneyOffOutlined.js","components/PaymentStatus.jsx","views/Orders.jsx"],"names":["Header","styled","h1","theme","colors","neutral","huge","subheader","Label","label","Layout","div","Details","white","Edit","background","Workspace","children","TableHeader","layout","TableRow","active","formatDate","date","newDate","Date","month","getMonth","getDate","getFullYear","Wrapper","Name","Price","primary","OrderedItem","amount","name","price","toFixed","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d","IconWrapper","payed","success","danger","PaymentStatus","Center","OrderNumber","Detail","last","bold","InfoWrapper","withAuth","auth","useState","orders","setOrders","orderId","setOrderId","orderDetails","setOrderDetails","user","setUser","orderedItems","setOrderedItems","isSufficientData","setIsSufficientData","loadingOrders","setLoadingOrders","loadingOrderDetails","setLoadingOrderDetails","history","useHistory","useEffect","a","async","url","admin","id","axios","get","data","orderColumns","Table","map","el","key","Spinner","order","onClick","userData","orderedItemsData","firstName","lastName","street","building","postal","city","fetchOrderDetails","push","createdAt","email","deliveryCost","status","apartment","phone","filter"],"mappings":"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","file":"static/js/9.221e9c93.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nconst Header = styled.h1`\n  color: ${({ theme }) => theme.colors.neutral[200]};\n  font-weight: 800;\n  font-size: ${({ huge, subheader }) => (subheader ? '28px' : huge ? '48px' : '36px')};\n  padding-bottom: 16px;\n  margin-bottom: 16px;\n`;\n\nexport default Header;\n","import styled from 'styled-components';\n\nconst Label = styled.label`\n  color: ${({ theme }) => theme.colors.neutral[200]};\n  font-size: 15px;\n`;\n\nexport default Label;","import React from 'react';\nimport styled from 'styled-components';\n\nconst Layout = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 375px;\n`;\nconst Details = styled.div`\n  background: ${({ theme }) => theme.colors.white};\n  padding: 48px 48px 0;\n  height: 100vh;\n  overflow: auto;\n`;\nconst Edit = styled.div`\n  background: ${({ theme }) => theme.colors.background[200]};\n  padding: 48px 40px;\n`;\nconst Workspace = ({ children }) => (\n  <Layout>\n    <Details>{children[0]}</Details>\n    <Edit>{children[1]}</Edit>\n  </Layout>\n);\n\nexport default Workspace;\n","import styled from 'styled-components';\n\nexport const TableHeader = styled.div`\n  display: grid;\n  grid-template-columns: ${({ layout }) => layout};\n  justify-content: center;\n  text-align: center;\n  font-size: 12px;\n  text-transform: uppercase;\n  font-weight: bold;\n  padding: 0 20px;\n  color: ${({ theme }) => theme.colors.neutral[400]};\n`;\n\nexport const TableRow = styled.div`\n  display: grid;\n  grid-template-columns: ${({ layout }) => layout};\n  align-items: center;\n  background: ${({ theme }) => theme.colors.white};\n  border: 1px solid transparent;\n  border-radius: 5px;\n  transition: all 0.2s ease-in-out;\n  padding: 20px 12px;\n  margin: 8px 0;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.25), 0 2px 2px rgba(0, 0, 0, 0.22);\n  transform: ${({ active }) => active ? 'scale(1.025)' : 'scale(1)'};\n  user-select: none;\n\n  &:hover {\n    transform: scale(1.05);\n    cursor: pointer;\n  }\n  &:active {\n    transform: scale(1.035);\n  }\n`;\n","const formatDate = date => {\n  const newDate = new Date(date);\n  const month = newDate.getMonth() + 1 < 10 ? `0${newDate.getMonth() + 1}` : newDate.getMonth();\n  return `${newDate.getDate()}.${month}.${newDate.getFullYear()} r.`;\n};\n\nexport default formatDate;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  color: ${({ theme }) => theme.colors.neutral[400]};\n  padding: 16px 0;\n`;\nconst Name = styled.div`\n  text-transform: capitalize;\n`;\nconst Price = styled.div`\n  color: ${({ theme }) => theme.colors.primary};\n`;\n\nconst OrderedItem = ({ amount, name, price }) => (\n  <Wrapper>\n    <div>{`${amount}x`}</div>\n    <Name>{name}</Name>\n    <Price>{`${(amount * price).toFixed(2)} zł`}</Price>\n  </Wrapper>\n);\n\nexport default OrderedItem;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z\"\n}), 'MonetizationOnOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12.5 6.9c1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-.39.08-.75.21-1.1.36l1.51 1.51c.32-.08.69-.13 1.09-.13zM5.47 3.92L4.06 5.33 7.5 8.77c0 2.08 1.56 3.22 3.91 3.91l3.51 3.51c-.34.49-1.05.91-2.42.91-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c.96-.18 1.83-.55 2.46-1.12l2.22 2.22 1.41-1.41L5.47 3.92z\"\n}), 'MoneyOffOutlined');\n\nexports.default = _default;","import React from 'react';\nimport styled from 'styled-components';\n\nimport MoneyOffOutlinedIcon from '@material-ui/icons/MoneyOffOutlined';\nimport MonetizationOnOutlinedIcon from '@material-ui/icons/MonetizationOnOutlined';\n\nimport Center from \"components/Center\";\n\nconst IconWrapper = styled.div`\n  height: 20px;\n  width: 20px;\n  color: ${({ theme, payed }) => (payed ? theme.colors.success : theme.colors.danger)};\n`;\n\nconst PaymentStatus = ({ payed }) => (\n  <Center>\n    <IconWrapper payed={payed}>\n      {payed ? <MonetizationOnOutlinedIcon/> : <MoneyOffOutlinedIcon/>}\n    </IconWrapper>\n  </Center>\n);\n\nexport default PaymentStatus;\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router-dom';\n\nimport axios from \"axios-instance\";\n\nimport formatDate from 'utils/formatDate';\nimport { withAuth } from 'providers/AuthProvider';\n\nimport Workspace from 'components/Workspace';\nimport Header from 'components/Header';\nimport Spinner from 'components/Spinner';\nimport { TableHeader, TableRow } from 'components/Table';\nimport PaymentStatus from 'components/PaymentStatus';\nimport OrderedItem from \"components/OrderedItem\";\nimport Label from 'components/Label';\n\nconst OrderNumber = styled.div`\n  color: ${({ theme }) => theme.colors.primary};\n  text-align: center;\n  \n  &:hover {\n    text-decoration: underline;\n  }\n`;\nconst Detail = styled.div`\n  color: ${({ theme }) => theme.colors.neutral[400]};\n  margin: ${({ last }) => last ? '8px 0 26px' : '8px 0 15px'};\n  font-weight: ${({ bold }) => bold ? 'bold' : 'normal'};\n  font-size: ${({ bold }) => bold ? '25px' : '17px'}\n`;\nconst InfoWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n`;\n\nconst Orders = ({ auth }) => {\n  const [orders, setOrders] = useState([]);\n  const [orderId, setOrderId] = useState();\n  const [orderDetails, setOrderDetails] = useState();\n  const [user, setUser] = useState();\n  const [orderedItems, setOrderedItems] = useState();\n  const [isSufficientData, setIsSufficientData] = useState(false);\n  const [loadingOrders, setLoadingOrders] = useState(true);\n  const [loadingOrderDetails, setLoadingOrderDetails] = useState();\n  const history = useHistory();\n\n  useEffect(() => {\n    (async () => {\n      const url = auth.admin ? 'orders/' : `orders/user/${auth.id}`;\n      const { data } = await axios.get(url);\n\n      if (data) {\n        setOrders(data);\n        setLoadingOrders(false);\n      }\n    })();\n  }, []);\n\n  const fetchOrderDetails = async id => {\n    setOrderId(id);\n    setLoadingOrderDetails(true);\n    const { data } = await axios.get(`orders/${id}`);\n    if (data) {\n      setOrderDetails(data);\n      const { user: userData, orderedItems: orderedItemsData } = data;\n      setUser(userData);\n      setIsSufficientData(userData.firstName && userData.lastName &&\n        userData.street && userData.building &&\n        userData.postal && userData.city);\n      setOrderedItems(orderedItemsData);\n    }\n    setLoadingOrderDetails(false);\n  };\n\n  const orderColumns = auth.admin ? (\n    ['zamówienie', 'data', 'email', 'koszt', 'opłacone', 'status']\n  ) : (\n    ['zamowienie', 'data', 'koszt', 'opłacone', 'status']\n  );\n\n  const layout = auth.admin ? '95px 120px 1fr 100px 80px 1fr' : '95px 1fr 1fr 1fr 1fr';\n\n  return (\n    <Workspace>\n      <section>\n        <Header huge>Zamówienia</Header>\n        <TableHeader layout={layout}>\n          {orderColumns.map(el => <div key={el}>{el}</div>)}\n        </TableHeader>\n        {loadingOrders ? <Spinner/> : (\n          orders.map(order => (\n            <TableRow\n              key={`orders-${order.id}`}\n              layout={layout}\n              onClick={() => fetchOrderDetails(order.id)}\n              active={orderId === order.id}\n            >\n              <OrderNumber onClick={() => history.push(`/orders/${order.id}`)}>{`#${order.id}`}</OrderNumber>\n              <div>{formatDate(order.createdAt)}</div>\n              {order.email && <div>{order.email}</div>}\n              <div>{`${(order.price + order.deliveryCost).toFixed(2)} zł`}</div>\n              <PaymentStatus payed={order.payed}/>\n              <div>{order.status}</div>\n            </TableRow>\n          ))\n        )}\n      </section>\n      <section>\n        {orderId && (\n          <>\n            <Header>Szczegóły</Header>\n            {loadingOrderDetails ? <Spinner/> : (\n              <div>\n                <Header subheader>Dane zamawiającego</Header>\n                <Label>E-mail</Label>\n                <Detail>{user.email}</Detail>\n                {isSufficientData && (\n                  <InfoWrapper>\n                    <div>\n                      <Label>Imię i nazwisko</Label>\n                      <Detail>{`${user.firstName} ${user.lastName}`}</Detail>\n                      <Label>Adres</Label>\n                      <Detail>\n                        {`${user.street} ${user.building}${user.apartment ? `/${user.apartment}` : ' '}`}\n                        <br/>\n                        {`${user.postal} ${user.city}`}\n                      </Detail>\n                      <Label>Telefon</Label>\n                      <Detail last>{orderDetails.user.phone}</Detail>\n                    </div>\n                  </InfoWrapper>\n                )}\n                <div>\n                  <Header subheader>Zamówienie</Header>\n                  {orderedItems\n                    .filter(({ amount }) => amount !== 0)\n                    .map(({ amount, price, name }) => (\n                      <OrderedItem\n                        key={`ordered-${name}`}\n                        name={name}\n                        amount={amount}\n                        price={price}\n                      />\n                    ))}\n                </div>\n              </div>\n            )}\n          </>\n        )}\n      </section>\n    </Workspace>\n  )\n};\n\nexport default withAuth(Orders);"],"sourceRoot":""}