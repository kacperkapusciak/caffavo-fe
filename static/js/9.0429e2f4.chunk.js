(this["webpackJsonpcaffavo-fe"]=this["webpackJsonpcaffavo-fe"]||[]).push([[9],{107:function(e,n,t){"use strict";var a=t(4),r=t(0),o=t.n(r),c=t(2);function i(){var e=Object(a.a)(["\n  background: ",";\n  padding: 48px 40px;\n"]);return i=function(){return e},e}function u(){var e=Object(a.a)(["\n  background: ",";\n  padding: 48px 48px 0;\n  height: 100vh;\n  overflow: auto;\n"]);return u=function(){return e},e}function l(){var e=Object(a.a)(["\n  display: grid;\n  grid-template-columns: 1fr 375px;\n"]);return l=function(){return e},e}var s=c.c.div(l()),d=c.c.div(u(),(function(e){return e.theme.colors.white})),m=c.c.div(i(),(function(e){return e.theme.colors.background[200]}));n.a=function(e){var n=e.children;return o.a.createElement(s,null,o.a.createElement(d,null,n[0]),o.a.createElement(m,null,n[1]))}},359:function(e,n,t){"use strict";t.r(n);var a=t(102),r=t.n(a),o=t(24),c=t(4),i=t(0),u=t.n(i),l=t(2),s=t(81),d=t(108),m=t(85),f=t(86),p=t(107),b=t(87);function v(){var e=Object(c.a)(["\n  display: grid;\n  grid-template-columns: 50px 1fr 1fr 1fr 85px;\n  align-items: center;\n  background: ",";\n  border: 1px solid transparent;\n  border-radius: 5px;\n  transition: all 0.2s ease-in-out;\n  padding: 20px 12px;\n  margin: 8px 0;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.25), 0 2px 2px rgba(0, 0, 0, 0.22);\n  transform: ",";\n  user-select: none;\n\n  &:hover {\n    transform: scale(1.05);\n    cursor: pointer;\n  }\n  &:active {\n    transform: scale(1.035);\n  }\n"]);return v=function(){return e},e}function g(){var e=Object(c.a)(["\n  display: grid;\n  grid-template-columns: 50px 1fr 1fr 1fr 85px;\n  font-size: 12px;\n  text-transform: uppercase;\n  font-weight: bold;\n  padding: 0 20px;\n  color: ",";\n"]);return g=function(){return e},e}var h=l.c.div(g(),(function(e){return e.theme.colors.neutral[400]})),x=l.c.div(v(),(function(e){return e.theme.colors.white}),(function(e){return e.active?"scale(1.025)":"scale(1)"})),E=t(343),j=t.n(E),O=t(341),k=t.n(O),w=t(342),y=t.n(w),I=t(34);function S(){var e=Object(c.a)(["\n  height: 20px;\n  width: 20px;\n  color: ","\n"]);return S=function(){return e},e}var z=l.c.div(S(),(function(e){var n=e.theme;switch(e.status){case"dostepny":return n.colors.success;case"niska_dostepnosc":return n.colors.warning;case"niedostepny":default:return n.colors.danger}})),C=function(e){var n=e.status,t={dostepny:u.a.createElement(k.a,null),niska_dostepnosc:u.a.createElement(y.a,null),niedostepny:u.a.createElement(j.a,null)}[n];return u.a.createElement(I.a,null,u.a.createElement(z,{status:n},t))},F=t(344),L=t.n(F),R=t(345),V=t.n(R),B=t(346),W=t.n(B);function D(){var e=Object(c.a)(["\n  height: 20px;\n  width: 20px;\n  color: ",";\n"]);return D=function(){return e},e}var P=l.c.div(D(),(function(e){return e.theme.colors.primary})),q=function(e){var n=e.unit,t={kilogram:u.a.createElement(L.a,null),litr:u.a.createElement(V.a,null),kostka:u.a.createElement(W.a,null)}[n];return u.a.createElement(I.a,null,u.a.createElement(P,null,t))},N=t(33),U=t(32),J=t(347),M=t.n(J);function _(){var e=Object(c.a)(["\n  border-radius: 0 8px 8px 0;\n  height: 100%;\n  width: 100%;\n  border: 1px solid transparent;\n  transition: all 0.3s ease-in-out;\n  background: ",";\n  color: ",";\n  \n  &:focus {\n    background: ",";\n  }\n  &::placeholder {\n    color: ",";\n  }\n"]);return _=function(){return e},e}function Z(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 8px 0 0 8px;\n  width: 46px;\n  color: ",";\n"]);return Z=function(){return e},e}function A(){var e=Object(c.a)(["\n  height: 46px;\n  width: 300px;\n  margin-left: 16px;\n  font-size: 18px;\n  border: 1px solid ",";\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  transition: all 0.3s ease-in-out;\n  background: ",";\n"]);return A=function(){return e},e}var G=l.c.form(A(),(function(e){return e.theme.colors.neutral[200]}),(function(e){var n=e.focused,t=e.theme;return n?t.colors.background[200]:t.colors.white})),H=l.c.label(Z(),(function(e){return e.theme.colors.neutral[400]})),K=l.c.input(_(),(function(e){return e.theme.colors.white}),(function(e){return e.theme.colors.neutral[400]}),(function(e){return e.theme.colors.background[200]}),(function(e){return e.theme.colors.neutral[200]})),Q=function(e){var n=e.value,t=e.setValue,a=Object(i.useState)(!1),r=Object(o.a)(a,2),c=r[0],l=r[1],s=function(){l(!c)};return u.a.createElement(G,{role:"search",onSubmit:function(e){return e.preventDefault()},focused:c},u.a.createElement(H,null,u.a.createElement(M.a,null)),u.a.createElement(K,{type:"text",placeholder:"Wyszukaj...",value:n,onChange:function(e){e.preventDefault(),t(e.target.value)},onFocus:s,onBlur:s}))},T=t(93),X=t(94),Y=t(95),$=t(349),ee=t(348),ne=t(40),te=ne.a.colors.background[200],ae=ne.a.colors.neutral[400],re={control:function(e){return Object($.a)({},e,{height:"40px",margin:"10px 0",borderRadius:0,boxShadow:"none",borderColor:"transparent",borderBottomWidth:"1px",borderBottomColor:ae,background:"transparent",color:ae,fontWeight:"bold","&:hover":{borderColor:"transparent",borderBottomColor:ae}})},menu:function(e){return Object($.a)({},e,{maxWidth:"307px",borderRadius:0,zIndex:5,"@media (max-width: 575.98px)":{width:"100%"}})},indicatorSeparator:function(e){return Object($.a)({},e,{display:"none"})},dropdownIndicator:function(e){return Object($.a)({},e,{svg:{color:ae}})},option:function(e,n){var t=n.isFocused,a=n.isSelected;return Object($.a)({},e,{background:t||a?te:"none",color:ae})}},oe=function(e){var n=e.options,t=e.field,a=e.form;return u.a.createElement(ee.a,{options:n,styles:re,name:t.name,value:n?n.find((function(e){return e.value===t.value})):"",onChange:function(e){return a.setFieldValue(t.name,e.value)},onBlur:t.onBlur})};function ce(){var e=Object(c.a)(["\n  padding: 0;\n  width: 100px;\n"]);return ce=function(){return e},e}function ie(){var e=Object(c.a)(["\n  display: flex;\n  align-items: flex-end;\n  justify-content: ",";\n  margin-bottom: 28px;\n"]);return ie=function(){return e},e}function ue(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return ue=function(){return e},e}var le=l.c.div(ue()),se=l.c.div(ie(),(function(e){return"edit"===e.mode?"space-between":"flex-end"})),de=Object(l.c)(U.a)(ce()),me=d.object({name:d.string().required("Pole wymagane."),amount:d.number().min(0).required("Pole wymagane."),unit:d.string().required("Pole wymagane."),price:d.number().positive("Warto\u015b\u0107 musi by\u0107 dodatnia.").required("Pole wymagane.")}),fe=function(e){var n=e.setFieldValue,t=e.error,a=e.setError,c=e.editLoading,l=e.setEditLoading,d=e.mode,v=e.setMode,g=e.defaultIngredient,E=e.ingredientId,j=e.setIngredientId,O=e.ingredients,k=e.ingredientsLoading,w=e.fetchIngredients,y=Object(i.useState)(""),I=Object(o.a)(y,2),S=I[0],z=I[1],F=["name","amount","unit","price"],L=function(){v("add"),F.forEach((function(e){return n(e,g[e])})),j(null)};return u.a.createElement(p.a,null,u.a.createElement("div",null,u.a.createElement(le,null,u.a.createElement(b.a,{huge:!0},"Sk\u0142adniki"),"edit"===d&&u.a.createElement(U.a,{onClick:L,primary:!0},"+ Dodaj"),u.a.createElement(Q,{value:S,setValue:z})),u.a.createElement("div",null,u.a.createElement(h,null,["typ","nazwa","ilo\u015b\u0107","cena","dost\u0119pno\u015b\u0107"].map((function(e){return u.a.createElement("div",{key:e},e)}))),k&&u.a.createElement(N.a,null),O.filter((function(e){var n=e.name;return!S||n.includes(S)})).map((function(e){var t="kilogram"===e.unit?"kg":e.unit;return u.a.createElement(x,{key:e.id,onClick:function(){return function(e){v("edit"),F.forEach((function(t){return n(t,e[t])})),j(e.id)}(e)},active:E===e.id},u.a.createElement(q,{unit:e.unit}),u.a.createElement("div",null,e.name),u.a.createElement("div",null,"".concat(e.amount," ").concat(t)),u.a.createElement("div",null,"".concat(e.price," PLN/").concat(t)),u.a.createElement(C,{status:e.status}))})))),u.a.createElement("div",null,u.a.createElement(b.a,null,"add"===d?"Dodaj":"Edytuj"),c?u.a.createElement(N.a,null):u.a.createElement(s.c,null,u.a.createElement(T.a,{htmlFor:"name"},"Nazwa"),u.a.createElement(s.b,{name:"name"},(function(e){var n=e.field;return u.a.createElement(X.a,Object.assign({type:"text"},n))})),u.a.createElement(Y.b,{name:"name"}),u.a.createElement(T.a,{htmlFor:"amount"},"Ilo\u015b\u0107"),u.a.createElement(s.b,{name:"amount"},(function(e){var n=e.field;return u.a.createElement(X.a,Object.assign({type:"number"},n))})),u.a.createElement(Y.b,{name:"amount"}),u.a.createElement(T.a,{htmlFor:"unit"},"Jednostka"),u.a.createElement(s.b,{name:"unit",component:oe,options:[{value:"kilogram",label:"kilogram"},{value:"litr",label:"litr"},{value:"kostka",label:"kostka"}]}),u.a.createElement(Y.b,{name:"unit"}),u.a.createElement(T.a,{htmlFor:"price"},"Cena"),u.a.createElement(s.b,{name:"price"},(function(e){var n=e.field;return u.a.createElement(X.a,Object.assign({type:"number"},n))})),u.a.createElement(Y.b,{name:"price"}),u.a.createElement(se,{mode:d},"edit"===d&&u.a.createElement(de,{onClick:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,r.a.awrap(Object(m.a)({method:"delete",url:"ingredients/".concat(E)}));case 4:if(200!==e.sent.status){e.next=11;break}return L(),l(!1),e.next=10,r.a.awrap(w());case 10:Object(f.a)("success","Usuni\u0119to sk\u0142adnik",3e3);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),a(e.t0.response.data),l(!1);case 17:case"end":return e.stop()}}),null,null,[[1,13]])}},"Usu\u0144"),u.a.createElement(de,{type:"submit",primary:!0},"Zatwierd\u017a"))),t&&u.a.createElement(Y.a,null,t)))};n.default=function(){var e=Object(i.useState)(!1),n=Object(o.a)(e,2),t=n[0],a=n[1],c=Object(i.useState)(null),l=Object(o.a)(c,2),d=l[0],p=l[1],b=Object(i.useState)("add"),v=Object(o.a)(b,2),g=v[0],h=v[1],x=Object(i.useState)([]),E=Object(o.a)(x,2),j=E[0],O=E[1],k=Object(i.useState)(!0),w=Object(o.a)(k,2),y=w[0],I=w[1],S=Object(i.useState)(null),z=Object(o.a)(S,2),C=z[0],F=z[1],L={name:"",amount:1,unit:"kilogram",price:1},R=function(){var e;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(m.a.get("ingredients"));case 2:(e=n.sent).data&&(O(e.data),I(!1));case 4:case"end":return n.stop()}}))};Object(i.useEffect)((function(){R()}),[]);return u.a.createElement(s.d,{initialValues:L,validationSchema:me,onSubmit:function(e){"add"===g?function(e){var n,t,o,c;r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.name,t=e.amount,o=e.unit,c=e.price,a(!0),i.prev=2,i.next=5,r.a.awrap(Object(m.a)({method:"post",url:"ingredients",data:{name:n,amount:t,unit:o,price:c}}));case 5:if(200!==i.sent.status){i.next=11;break}return a(!1),i.next=10,r.a.awrap(R());case 10:Object(f.a)("success","Dodano sk\u0142adnik",3e3);case 11:i.next=17;break;case 13:i.prev=13,i.t0=i.catch(2),p(i.t0.response.data),a(!1);case 17:case"end":return i.stop()}}),null,null,[[2,13]])}(e):function(e){var n,t,o,c;r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.name,t=e.amount,o=e.unit,c=e.price,a(!0),i.prev=2,i.next=5,r.a.awrap(Object(m.a)({method:"put",url:"ingredients/".concat(C),data:{name:n,amount:t,unit:o,price:c}}));case 5:if(200!==i.sent.status){i.next=11;break}return a(!1),i.next=10,r.a.awrap(R());case 10:Object(f.a)("success","Wprowadzono zmiany.",3e3);case 11:i.next=17;break;case 13:i.prev=13,i.t0=i.catch(2),p(i.t0.response.data),a(!1);case 17:case"end":return i.stop()}}),null,null,[[2,13]])}(e)}},(function(e){var n=e.setFieldValue;return u.a.createElement(fe,{setFieldValue:n,error:d,setError:p,editLoading:t,setEditLoading:a,mode:g,setMode:h,defaultIngredient:L,ingredientId:C,setIngredientId:F,ingredients:j,ingredientsLoading:y,fetchIngredients:R})}))}},85:function(e,n,t){"use strict";var a=t(106),r=t.n(a).a.create({baseURL:"https://caffavo.herokuapp.com/"});n.a=r},86:function(e,n,t){"use strict";var a=t(31);n.a=function(e,n,t){switch(e){case"success":return a.store.addNotification({title:"Uda\u0142o si\u0119!",message:n,type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeInRight"],animationOut:["animated","fadeOutRight"],dismiss:{duration:t}});case"danger":return a.store.addNotification({title:"Co\u015b posz\u0142o nie tak :(",message:n,type:"danger",insert:"top",container:"top-right",animationIn:["animated","fadeInRight"],animationOut:["animated","fadeOutRight"],dismiss:{duration:t}})}}},87:function(e,n,t){"use strict";var a=t(4);function r(){var e=Object(a.a)(["\n  color: ",";\n  font-weight: 800;\n  font-size: ",";\n  padding-bottom: 16px;\n  margin-bottom: 16px;\n"]);return r=function(){return e},e}var o=t(2).c.h1(r(),(function(e){return e.theme.colors.neutral[200]}),(function(e){var n=e.huge;return e.subheader?"28px":n?"48px":"36px"}));n.a=o},93:function(e,n,t){"use strict";var a=t(4);function r(){var e=Object(a.a)(["\n  color: ",";\n  font-size: 15px;\n"]);return r=function(){return e},e}var o=t(2).c.label(r(),(function(e){return e.theme.colors.neutral[200]}));n.a=o},94:function(e,n,t){"use strict";var a=t(4);function r(){var e=Object(a.a)(["\n  width: 100%;\n  color: ",";\n  font-weight: bold;\n  border: none;\n  border-bottom: 1px solid ",";\n  padding: 10px;\n  font-size: 16px;\n  margin: 10px 0;\n  background: transparent;\n"]);return r=function(){return e},e}var o=t(2).c.input(r(),(function(e){return e.theme.colors.neutral[400]}),(function(e){return e.theme.colors.neutral[400]}));n.a=o},95:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var a=t(4),r=t(0),o=t.n(r),c=t(81);function i(){var e=Object(a.a)(["\n  min-height: 16px;\n  margin-bottom: 10px;\n  font-size: 14px;\n  color: ",";\n"]);return i=function(){return e},e}var u=t(2).c.div(i(),(function(e){return e.theme.colors.secondary}));n.b=function(e){return o.a.createElement(u,null,o.a.createElement(c.a,e))}}}]);
//# sourceMappingURL=9.0429e2f4.chunk.js.map