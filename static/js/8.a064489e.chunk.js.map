{"version":3,"sources":["components/Link.jsx","views/Register.jsx","axios-instance.js","utils/openNotification.js","components/Header.jsx","components/Label.jsx","components/Input.jsx","components/ErrorMessage.jsx"],"names":["styled","Link","theme","colors","primary","secondary","Wrapper","div","BoundingBox","section","Grid","Flex","ButtonStyled","Button","LinkStyled","initialValues","email","password","passwordConfirm","firstName","lastName","phone","Yup","ref","message","test","name","exclusive","params","reference","path","value","this","resolve","validationSchema","required","min","equalTo","Register","useState","error","setError","loading","setLoading","history","useHistory","wholePage","onSubmit","values","a","async","axios","method","url","data","status","openNotification","push","response","tryRegister","render","htmlFor","field","type","to","instance","create","baseURL","duration","store","addNotification","title","insert","container","animationIn","animationOut","dismiss","Header","h1","neutral","huge","subheader","Label","label","Input","input","ErrorMessageStyled","props"],"mappings":"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","file":"static/js/8.a064489e.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\nimport styled from 'styled-components';\n\nexport default styled(Link)`\n  color: ${({ theme }) => theme.colors.primary};\n  text-decoration: none;\n  \n  &:link {\n    color: ${({ theme }) => theme.colors.primary};\n  }\n  &:visited {\n    color: ${({ theme }) => theme.colors.primary};\n  }\n  &:hover {\n    color: ${({ theme }) => theme.colors.secondary};\n    text-decoration: underline;\n    cursor: pointer;\n  }\n  &:active {\n    color: ${({ theme }) => theme.colors.secondary};\n  }\n`;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport * as Yup from 'yup';\nimport { useHistory } from 'react-router-dom';\n\nimport axios from 'axios-instance';\nimport openNotification from 'utils/openNotification';\n\nimport Center from 'components/Center';\nimport Header from 'components/Header';\nimport { Field, Form, Formik } from \"formik\";\nimport Label from \"components/Label\";\nimport Input from \"components/Input\";\nimport ErrorMessage, { ErrorMessageStyled } from \"components/ErrorMessage\";\nimport Button from \"components/Button\";\nimport Link from 'components/Link';\nimport Spinner from \"components/Spinner\";\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n`;\nconst BoundingBox = styled.section`\n  width: 600px;\n`;\nconst Grid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 20px;\n`;\nconst Flex = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 28px;\n`;\nconst ButtonStyled = styled(Button)`\n  width: 256px;\n`;\nconst LinkStyled = styled(Link)`\n  margin-left: 5px;\n`;\n\nconst initialValues = {\n  email: '',\n  password: '',\n  passwordConfirm: '',\n  firstName: '',\n  lastName: '',\n  phone: ''\n};\n\nfunction equalTo(ref, message) {\n  return Yup.mixed().test({\n    name: 'equalTo',\n    exclusive: false,\n    message,\n    params: {\n      reference: ref.path,\n    },\n    test(value) {\n      return value === this.resolve(ref);\n    },\n  });\n}\n\nYup.addMethod(Yup.string, 'equalTo', equalTo);\n\nconst validationSchema = Yup.object({\n  email: Yup.string()\n    .email('Nieprawidłowy format.')\n    .required('Pole wymagane.'),\n  password: Yup.string()\n    .min(5, 'Hasło musi być przynajmniej 5 znakowe.')\n    .required('Pole wymagane.'),\n  passwordConfirm: Yup.string()\n    .equalTo(Yup.ref('password'), 'Hasła muszą być identyczne.')\n    .required('Pole wymagane.'),\n  firstName: Yup.string()\n    .required('Pole wymagane.'),\n  lastName: Yup.string()\n    .required('Pole wymagane.'),\n  phone: Yup.string()\n    .min(8, 'Sprawdź poprawność numeru telefonu.')\n    .required('Pole wymagane.'),\n});\n\nconst Register = () => {\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const history = useHistory();\n\n  const tryRegister = async (values) => {\n    const { email, password, firstName, lastName, phone } = values;\n    setLoading(true);\n\n    try {\n      const response = await axios({\n        method: 'post',\n        url: 'users',\n        data: {\n          email, password, firstName, lastName, phone\n        }\n      });\n      if (response.status === 200) {\n        setLoading(false);\n        openNotification('success', 'Teraz możesz zalogować się na swoje konto.', 7000);\n        history.push('login/');\n      }\n    } catch (err) {\n      setError(err.response.data);\n      setLoading(false);\n    }\n  };\n\n  if (loading) return <Spinner wholePage/>;\n\n  return (\n    <Wrapper>\n      <Center>\n        <BoundingBox>\n          <Header>Zarejestruj się</Header>\n          <Formik\n            initialValues={initialValues}\n            validationSchema={validationSchema}\n            onSubmit={values => {\n              tryRegister(values);\n            }}\n            render={() => (\n              <Form>\n                <Label htmlFor=\"email\">E-mail</Label>\n                <Field name=\"email\">\n                  {({ field }) => <Input type=\"email\" {...field} />}\n                </Field>\n                <ErrorMessage name=\"email\"/>\n                <Label htmlFor=\"password\">Hasło</Label>\n                <Field name=\"password\">\n                  {({ field }) => <Input type=\"password\" {...field} />}\n                </Field>\n                <ErrorMessage name=\"password\"/>\n                <Label htmlFor=\"passwordConfirm\">Powtórz hasło</Label>\n                <Field name=\"passwordConfirm\">\n                  {({ field }) => <Input type=\"password\" {...field} />}\n                </Field>\n                <ErrorMessage name=\"passwordConfirm\"/>\n                <Grid>\n                  <div>\n                    <Label htmlFor=\"firstName\">Imię</Label>\n                    <Field name=\"firstName\">\n                      {({ field }) => <Input type=\"text\" {...field} />}\n                    </Field>\n                    <ErrorMessage name=\"firstName\"/>\n                  </div>\n                  <div>\n                    <Label htmlFor=\"lastName\">Nazwisko</Label>\n                    <Field name=\"lastName\">\n                      {({ field }) => <Input type=\"text\" {...field} />}\n                    </Field>\n                    <ErrorMessage name=\"lastName\"/>\n                  </div>\n                </Grid>\n                <Label htmlFor=\"phone\">Telefon</Label>\n                <Field name=\"phone\">\n                  {({ field }) => <Input type=\"tel\" {...field} />}\n                </Field>\n                <ErrorMessage name=\"phone\"/>\n                <Flex>\n                  <ButtonStyled type=\"submit\" primary>\n                    Zarejestruj konto\n                  </ButtonStyled>\n                </Flex>\n              </Form>\n            )}\n          />\n          {error && <ErrorMessageStyled>{error}</ErrorMessageStyled>}\n          <p>\n            Masz konto?\n            <LinkStyled to=\"/login\">Zaloguj się</LinkStyled>\n          </p>\n        </BoundingBox>\n      </Center>\n    </Wrapper>\n  )\n};\n\nexport default Register;","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://caffavo.herokuapp.com/'\n});\n\nexport default instance;","import { store } from \"react-notifications-component\";\n\nconst openNotification = (type, message, duration) => {\n  switch (type) {\n    case 'success':\n      return store.addNotification({\n        title: \"Udało się!\",\n        message,\n        type: \"success\",\n        insert: \"top\",\n        container: \"top-right\",\n        animationIn: [\"animated\", \"fadeInRight\"],\n        animationOut: [\"animated\", \"fadeOutRight\"],\n        dismiss: {\n          duration\n        }\n      });\n    case 'danger':\n      return store.addNotification({\n        title: \"Coś poszło nie tak :(\",\n        message,\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-right\",\n        animationIn: [\"animated\", \"fadeInRight\"],\n        animationOut: [\"animated\", \"fadeOutRight\"],\n        dismiss: {\n          duration\n        }\n      })\n  }\n};\n\nexport default openNotification;\n","import styled from 'styled-components';\n\nconst Header = styled.h1`\n  color: ${({ theme }) => theme.colors.neutral[200]};\n  font-weight: 800;\n  font-size: ${({ huge, subheader }) => (subheader ? '28px' : huge ? '48px' : '36px')};\n  padding-bottom: 16px;\n  margin-bottom: 16px;\n`;\n\nexport default Header;\n","import styled from 'styled-components';\n\nconst Label = styled.label`\n  color: ${({ theme }) => theme.colors.neutral[200]};\n  font-size: 15px;\n`;\n\nexport default Label;","import styled from 'styled-components';\n\nconst Input = styled.input`\n  width: 100%;\n  color: ${({ theme }) => theme.colors.neutral[400]};\n  font-weight: bold;\n  border: none;\n  border-bottom: 1px solid ${({ theme }) => theme.colors.neutral[400]};\n  padding: 10px;\n  font-size: 16px;\n  margin: 10px 0;\n  background: transparent;\n`;\n\nexport default Input;","import React from 'react';\nimport { ErrorMessage } from 'formik';\nimport styled from 'styled-components';\n\nexport const ErrorMessageStyled = styled.div`\n  min-height: 16px;\n  margin-bottom: 10px;\n  font-size: 14px;\n  color: ${({ theme }) => theme.colors.secondary};\n`;\n\nexport default props => (\n  <ErrorMessageStyled>\n    <ErrorMessage {...props} />\n  </ErrorMessageStyled>\n);"],"sourceRoot":""}